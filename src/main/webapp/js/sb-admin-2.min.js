!function (t) {
    "use strict";

    // Cuando se hace clic en los botones #sidebarToggle o #sidebarToggleTop
    t("#sidebarToggle, #sidebarToggleTop").on("click", function (o) {
        t("body").toggleClass("sidebar-toggled"),
                t(".sidebar").toggleClass("toggled"),
                t(".sidebar").hasClass("toggled") && t(".sidebar .collapse").collapse("hide");
    });

    // Detecta cuando el tamaño de la ventana cambia
    t(window).resize(function () {
        var windowWidth = t(window).width();

        // Si el ancho de la ventana es menor a 768px, colapsa el sidebar
        if (windowWidth < 768) {
            t("body").addClass("sidebar-toggled");
            t(".sidebar").addClass("toggled");
            t(".sidebar .collapse").collapse("hide"); // Cierra los submenús
        }
        // Si el ancho de la ventana es mayor a 768px pero menor que 992px, también colapsa
        else if (windowWidth < 992) {
            t("body").addClass("sidebar-toggled");
            t(".sidebar").addClass("toggled");
            t(".sidebar .collapse").collapse("hide");
        }
        // Si el ancho es mayor a 992px, asegúrate de que esté expandido
        else {
            t("body").removeClass("sidebar-toggled");
            t(".sidebar").removeClass("toggled");
        }
    });

    // Si la página se carga y el tamaño de la ventana es pequeño, colapsa el sidebar
    t(document).ready(function () {
        var windowWidth = t(window).width();

        if (windowWidth < 768 || windowWidth < 992) {
            t("body").addClass("sidebar-toggled");
            t(".sidebar").addClass("toggled");
        }
    });

    // Función para manejar el mousewheel en pantallas grandes
    t("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel", function (o) {
        if (768 < t(window).width()) {
            var e = o.originalEvent,
                    l = e.wheelDelta || -e.detail;
            this.scrollTop += 30 * (l < 0 ? 1 : -1);
            o.preventDefault();
        }
    });

    // Mostrar el botón "scroll-to-top" si el usuario hace scroll
    t(document).on("scroll", function () {
        100 < t(this).scrollTop() ? t(".scroll-to-top").fadeIn() : t(".scroll-to-top").fadeOut();
    });

    // Hacer scroll suave al hacer clic en el botón "scroll-to-top"
    t(document).on("click", "a.scroll-to-top", function (o) {
        var e = t(this);
        t("html, body").stop().animate({
            scrollTop: t(e.attr("href")).offset().top
        }, 1e3, "easeInOutExpo"), o.preventDefault();
    });
}(jQuery);
